# Stalwart Mail Server Configuration
# Minimal configuration for integration with the email service

# Server listeners
[server.listener.smtp]
bind = "[::]:25"
protocol = "smtp"

[server.listener.submission]
bind = "[::]:587"
protocol = "smtp"

[server.listener.imap]
bind = "[::]:143"
protocol = "imap"

[server.listener.http]
protocol = "http"
bind = "[::]:8080"

# Storage using RocksDB (default, most reliable)
[storage]
data = "rocksdb"
fts = "rocksdb"
blob = "rocksdb"
lookup = "rocksdb"
directory = "internal"

[store.rocksdb]
type = "rocksdb"
path = "/opt/stalwart/data"
compression = "lz4"

# Internal directory for user management
[directory.internal]
type = "internal"
store = "rocksdb"

# Logging
[tracer.log]
type = "log"
level = "info"
path = "/opt/stalwart/logs"
prefix = "stalwart.log"
rotate = "daily"
ansi = false
enable = true

# Admin authentication - plaintext password for development
# In production, use hashed password
[authentication.fallback-admin]
user = "admin"
secret = "adminpassword"
